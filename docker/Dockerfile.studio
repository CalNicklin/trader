FROM oven/bun:1
WORKDIR /app

RUN apt-get update && apt-get install -y python3 make g++ && rm -rf /var/lib/apt/lists/*

COPY package.json bun.lock ./
RUN bun install --frozen-lockfile

COPY src/db/schema.ts src/db/
COPY drizzle.config.ts ./

CMD ["bunx", "drizzle-kit", "studio", "--host", "0.0.0.0"]
